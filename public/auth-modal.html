<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Login - PIP NATION ACADEMY</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <link rel="alternate icon" href="favicon.ico" />
    <link rel="stylesheet" href="css/globals.css" />
    <link rel="stylesheet" href="css/components.css" />
    <link rel="stylesheet" href="css/pages/auth.css" />
    <script src="js/includes.js" defer></script>
  </head>
  <body class="auth-page">
    <div class="auth-wrap">
      <h1 data-i18n="Student Login">üîê Student Login</h1>
      <p class="sub" data-i18n="Access your PIP NATION ACADEMY dashboard">
        Access your PIP NATION ACADEMY dashboard
      </p>

      <div class="msg err" id="errorMsg" style="display: none"></div>
      <div class="msg ok" id="successMsg" style="display: none"></div>

      <form id="loginForm">
        <label data-i18n="Email">
          Email
          <input
            type="email"
            id="email"
            name="email"
            class="input"
            required
            autocomplete="email"
            placeholder="student@example.com"
            data-i18n-placeholder="student@example.com"
          />
        </label>
        <label data-i18n="Password">
          Password
          <input
            type="password"
            id="password"
            name="password"
            class="input"
            required
            autocomplete="current-password"
            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
            data-i18n-placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
          />
        </label>
        <a
          href="#"
          id="forgotPasswordLink"
          style="
            font-size: 13px;
            margin-bottom: 8px;
            text-align: right;
            display: block;
          "
          >Forgot password?</a
        >
        <button
          type="submit"
          class="btn btn-primary full-width"
          data-i18n="Login"
        >
          Login
        </button>
      </form>

      <form
        id="resetForm"
        style="
          display: none;
          flex-direction: column;
          gap: 16px;
          margin-top: 10px;
        "
      >
        <label data-i18n="Enter your email to reset password">
          Enter your email to reset password
          <input
            type="email"
            id="resetEmail"
            class="input"
            required
            placeholder="student@example.com"
            data-i18n-placeholder="student@example.com"
          />
        </label>
        <button
          type="submit"
          class="btn btn-primary full-width"
          data-i18n="Send Reset Link"
        >
          Send Reset Link
        </button>
        <a
          href="#"
          id="backToLogin"
          style="font-size: 13px; text-align: right; display: block"
          >Back to login</a
        >
      </form>

      <!-- Set New Password Form (for Supabase password reset) -->
      <form
        id="setPasswordForm"
        style="
          display: none;
          flex-direction: column;
          gap: 16px;
          margin-top: 10px;
        "
      >
        <label data-i18n="Set your new password">
          Set your new password
          <input
            type="password"
            id="newPassword"
            class="input"
            required
            minlength="8"
            placeholder="New password"
            data-i18n-placeholder="New password"
          />
        </label>
        <button
          type="submit"
          class="btn btn-primary full-width"
          data-i18n="Update Password"
        >
          Update Password
        </button>
      </form>

      <div class="links" style="margin-top: 20px; text-align: center">
        <p data-i18n="Don't have an account?">
          Don't have an account?
          <a href="enrollment.html" data-i18n="Enroll Now">Enroll Now</a>
        </p>
        <p>
          <a href="admin-login.html" data-i18n="Admin Login">Admin Login</a>
        </p>
        <p><a href="index.html" data-i18n="Back to Home">‚Üê Back to Home</a></p>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.3/dist/umd/supabase.min.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/config.js"></script>
    <script src="js/auth.js"></script>
  </body>
</html>
